@baseUrl = https://localhost:7257
@token = YOUR_JWT_TOKEN_HERE

### Get all user permissions
GET {{baseUrl}}/api/UserPermission
Authorization: Bearer {{token}}

### Get user permission by ID
GET {{baseUrl}}/api/UserPermission/1
Authorization: Bearer {{token}}

### Get user permissions by username
GET {{baseUrl}}/api/UserPermission/username/john.doe
Authorization: Bearer {{token}}

### Get user permissions by permission code
GET {{baseUrl}}/api/UserPermission/permission-code/READ_EMPLOYEES
Authorization: Bearer {{token}}

### Check if user has specific permission
GET {{baseUrl}}/api/UserPermission/check/john.doe/READ_EMPLOYEES
Authorization: Bearer {{token}}

### Search user permissions
GET {{baseUrl}}/api/UserPermission/search?searchTerm=john.doe
Authorization: Bearer {{token}}

### Create a new user permission
POST {{baseUrl}}/api/UserPermission
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "username": "john.doe",
  "permissionCode": "READ_EMPLOYEES"
}

### Create another user permission
POST {{baseUrl}}/api/UserPermission
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "username": "john.doe",
  "permissionCode": "WRITE_EMPLOYEES"
}

### Create user permission for different user
POST {{baseUrl}}/api/UserPermission
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "username": "jane.smith",
  "permissionCode": "READ_TRAINING_EVENTS"
}

### Update user permission
PUT {{baseUrl}}/api/UserPermission/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "username": "john.doe",
  "permissionCode": "ADMIN_ACCESS"
}

### Delete user permission
DELETE {{baseUrl}}/api/UserPermission/1
Authorization: Bearer {{token}}

### Test error scenarios

### Try to create duplicate permission
POST {{baseUrl}}/api/UserPermission
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "username": "john.doe",
  "permissionCode": "READ_EMPLOYEES"
}

### Try to get non-existent permission
GET {{baseUrl}}/api/UserPermission/999
Authorization: Bearer {{token}}

### Try to update non-existent permission
PUT {{baseUrl}}/api/UserPermission/999
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "username": "john.doe",
  "permissionCode": "UPDATED_PERMISSION"
}

### Try to delete non-existent permission
DELETE {{baseUrl}}/api/UserPermission/999
Authorization: Bearer {{token}}